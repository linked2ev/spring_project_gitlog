$('.btn-popup').click(function(){
        var $href = $(this).attr('href');
        layer_popup($href);
    });

	// 레이아웃 팝업
	function layer_popup(el){
	
	    var $el = $(el);		//레이어의 id를 $el 변수에 저장
	    var isDim = $el.prev().hasClass('dimBack');	//dimmed 레이어를 감지하기 위한 boolean 변수
	
	    isDim ? $el.parents('.popupWrap').fadeIn() : $el.fadeIn();
	
	    var $elWidth = ~~($el.outerWidth()),
	        $elHeight = ~~($el.outerHeight()),
	        docWidth = $(document).width(),
	        docHeight = $(document).height();
	
	    // 화면의 중앙에 레이어를 띄운다.
	    if ($elHeight < docHeight || $elWidth < docWidth) {
	        $el.css({
	            marginTop: -$elHeight /2,
	            marginLeft: -$elWidth/2
	        })
	    } else {
	        $el.css({top: 0, left: 0});
	    }
	
	    $el.find('.btn-closePop').click(function(){
	        isDim ? $el.parents('.popupWrap').fadeOut() : $el.fadeOut(); // 레이어 닫기
	        return false;
	    });
	
	    $('.layer .dimBack').click(function(){
	        $('.popupWrap').fadeOut();
			return false;
	    });
	
		// 부모창 스크롤 막기
		$('html, body').css({'overflow': 'hidden', 'height': '100%'}); // 모달팝업 중 html,body의 scroll을 hidden시킴 
		$('html, body').on('scroll touchmove mousewheel', function(event) { // 터치무브와 마우스휠 스크롤 방지     
			event.preventDefault();     
			event.stopPropagation();     
			
			return false; 
		});
	
		$('html, body').css({'overflow': 'auto', 'height': '100%'}); //scroll hidden 해제 
		$('html, body').off('scroll touchmove mousewheel'); // 터치무브 및 마우스휠 스크롤 가능
	
	}
    
    // 레이아웃 alert
	function layer_alert(el, type, fn){
	    var $el = $(el);		//레이어의 id를 $el 변수에 저장
	    var isDim = $el.prev().hasClass('dimBack');	//dimmed 레이어를 감지하기 위한 boolean 변수
	    var okAfterFunc = function(){};
	    
	    //알림창 닫은 후 실행할 함수
	    if(fn != null){
	    	okAfterFunc = fn;
	    }

	    isDim ? $el.parents('.popupWrap').fadeIn() : $el.fadeIn();
	
	    var $elWidth = ~~($el.outerWidth()),
	        $elHeight = ~~($el.outerHeight()),
	        docWidth = $(document).width(),
	        docHeight = $(document).height();
	
	    // 화면의 중앙에 레이어를 띄운다.
	    if ($elHeight < docHeight || $elWidth < docWidth) {
	        $el.css({
	            marginTop: -$elHeight /2,
	            marginLeft: -$elWidth/2
	        })
	    } else {
	        $el.css({top: 0, left: 0});
	    }
	    
	    //중복 이벤트 막기위해 unbind해준다
	    $el.find('.btn-closeAlert').unbind().click(function(){
	    	/*
	    	 * type 구분
	    	 * returnUrl : 서버에서 성공/실패 후 returnUrl를 지정할 시
	    	 * reload    : 해당 페이지에서 확인 클릭 후 강제 reload 필요 시
	    	 */
	    	if(type != "returnUrl"){	 
				// 레이어 닫기
		        isDim ? $el.parents('.popupWrap').fadeOut() : $el.fadeOut(); 
		        
	            // reload: alert 창 확인 후 reload 실행
	            if(type == "reload" && type != "" && typeof type != "undefined"){ 
	            	//window.location.reload();
	            	document.getElementById("form").method = "post";
	            	document.getElementById("form").submit();
	            }
	            
	            if(type != "confirm")
	            {
	            	//알림창 닫은 후 실행할 함수
	            	okAfterFunc();
	            }
	            
		        return false;
			}
	    });
	    
	    //Confirm 창인 경우 '예' 버튼을 눌렀을때
	    $el.find("#confirmY").unbind().click(function(){
	    	// 레이어 닫기
	        isDim ? $el.parents('.popupWrap').fadeOut() : $el.fadeOut(); 
	        
	        //알림창 닫은 후 실행할 함수
            okAfterFunc();
            return true;
	    });
	    
	    $('.layer .dimBack').click(function(){
	        $('.popupWrap').fadeOut();
			return false;
	    });

	    
		// 부모창 스크롤 막기
		$('html, body').css({'overflow': 'hidden', 'height': '100%'}); // 모달팝업 중 html,body의 scroll을 hidden시킴 
		$('html, body').on('scroll touchmove mousewheel', function(event) { // 터치무브와 마우스휠 스크롤 방지     
			event.preventDefault();     
			event.stopPropagation();     
			
			return false; 
		});
	
		$('html, body').css({'overflow': 'auto', 'height': '100%'}); //scroll hidden 해제 
		$('html, body').off('scroll touchmove mousewheel'); // 터치무브 및 마우스휠 스크롤 가능
		
        // alert 창 확인 후 reload 실행
        if(type == "confirm" && type != "" && typeof type != "undefined"){ 
        	return true;
        }
        
	}
